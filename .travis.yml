sudo: required
dist: trusty
language: haskell
ghc: 7.8
before_install:
 - sudo apt-get update -qq
 - sudo apt-get install -qq zlib1g-dev libncurses-dev libcairo2-dev libglib2.0-dev libpango1.0-dev libgtk2.0-dev libglade2-dev spass software-properties-common dpkg-dev 
 - sudo apt-add-repository -y ppa:hets/hets
 - sudo apt-get update -qq
 - sudo apt-get install -qq darwin
install:
 - sudo apt-get install `dpkg-checkbuilddeps debian/control 2>&1 | cut -f3- -d":" | sed -e 's,([^)]*),,g'` || true
 - travis_retry cabal update
 - cabal install alex happy
 - cabal install gtk2hs-buildtools
 - cabal install glade
 - cabal install --only-dependencies
script:
 - make
 - ./hets -V
 - export HETS_MAGIC=$PWD/magic/hets.magic
 - make check

